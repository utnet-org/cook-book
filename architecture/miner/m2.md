# 一. 芯片相关rpc接口
调用均在worker机上完成，先启动worker机，访问rpc url为：workerIP:6001
```sh
### keysquery is reading keys from files stored at ./bm_chip/src/key
## "serial" is the serial number of the tpu card, "bus_id" is the sequence number of chip in the card, the number can be 0 1 2, "dev_id" can be left unfilled.
## return results："serialNumber"，"busId","devId","p2"，"publicKey"，"p2Size"，"publicKeySize"
{
  "jsonrpc": "1.0",
  "id": "dontcare",
  "method": "keysquery",
  "params": {
    "serial": "",
    "bus_id": "",
    "dev_id": ""
  }
}

### signchips is signing the chip using the p2 key and verify with public key 
## "dev_id" is the sequence number of chip in the server, the number can be 0 1 2 3 ... 17, "p2" is p2 key, "pubkey" is public key, "p2_size" is the size of p2 key, "pubkey_size" is the size of public key.
## return results："signature"，"status"
{
  "jsonrpc": "1.0",
  "id": "dontcare",
  "method": "signchips",
  "params": {
    "dev_id": "",
    "p2": "",
    "pubkey": "",
    "p2_size": "",
    "pubkey_size": ""
  }
}

```

# 二. 调用链上节点相关rpc接口
调用均在miner机上完成，先启动miner机，访问rpc url为：minerIP:8001
```sh
### getmineraccountkeys is generate new public keys and address for a miner as account.
## "node_path" is your command path of unc cli after installing, forms is like "path/to/unc". "mnemonic" is mnemonic to generate new public key and address, it can be empty if you haven't an account yet and it will randomly generate a new address, or you want to export an address using a known mnemonic, then just type the mnemonic.
## return results："pubKey"，"address"
{
  "jsonrpc": "1.0",
  "id": "dontcare",
  "method": "getmineraccountkeys",
  "params": {
    "node_path": "unc",
    "mnemonic": "one two three four five six seven eight nine ten eleven twelve"
  } 
}

### claimpledge is to pledge/deposit certain UNC to be qualified to report blocks, "account_id".
## "account_id" is the miner address. "amount" is how much you want to pledge, unit is UNC. "node_path" is your command path of unc cli after installing, forms is like "path/to/unc". "key_path" is defaulted as empty. "net" is either "testnet" or "mainnet"
## return results："txid" the transaction id on chain
{
  "jsonrpc": "1.0",
  "id": "dontcare",
  "method": "claimpledge",
  "params": {
    "account_id": "",
    "amount": "",
    "node_path": "unc",
    "key_path": "",
    "net": "testnet",
  }
}

### claimcomputation is to pledge/deposit certain UNC to be qualified to report blocks.
## "account_id" is the miner address. "chip_pubkey" public key of the chip which miner is claiming, unit is UNC. "node_path" is your command path of unc cli after installing, forms is like "path/to/unc". "key_path" is defaulted as empty. "net" is either "testnet" or "mainnet"
## return results："txid" the transaction id on chain
{
  "jsonrpc": "1.0",
  "id": "dontcare",
  "method": "claimcomputation",
  "params": {
    "account_id": "",
    "chip_pubkey": "",
    "node_path": "unc",
    "key_path": "",
    "net": "testnet",
  }
}

### minerchipsList is to list all chips claimed by the miner.
## "account_id" is the miner address. "amount" is how much you want to pledge, unit is UNC. "node_path" is your command path of unc cli after installing, forms is like "path/to/unc". "key_path" is defaulted as empty. "net" is either "testnet" or "mainnet"
## return results：return a list of struct containing : {"serialNumber", "BusId", "power", "p2", "publicKey", "p2Size", "publicKeySize"}
{
  "jsonrpc": "1.0",
  "id": "dontcare",
  "method": "minerchipsList",
  "params": {
    "account_id": ""
  }
}

```